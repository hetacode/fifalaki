<html>

<head>
    <title>
        A Simple HTML Document
    </title>
</head>
<script src="https://www.promisejs.org/polyfills/promise-6.1.0.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@aspnet/signalr@1.0.3/dist/browser/signalr.js"></script>
<script lang="application/javascript">
    window.onload = (e) => {
        let connection = new signalR.HubConnectionBuilder()
            .withUrl("http://localhost:5000/game")//, {skipNegotiation: true, transport: signalR.HttpTransportType.WebSockets })
            .configureLogging(signalR.LogLevel.Trace)
            .build();
        connection.start().then(async () => {
            console.log("CONNECTED");
        });

        connection.on("OnEvent", dara => {
            console.log(`Notification: ${JSON.stringify(dara)}`);
        });
        connection.on("onConnected", data => {
            console.log(JSON.stringify(data));
            document.getElementById("connId").innerText = data.ConnectionId;
        })
    }
</script>

<body>
    <p>Connection id: <span id="connId"></span></p>
</body>

</html>